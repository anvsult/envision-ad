@startuml
left to right direction

' --- Increase spacing and make the box larger ---
skinparam ranksep 40
skinparam nodesep 20
skinparam rectangle {
  Padding 40
  Margin 40
}

actor Advertiser as ADV
actor "Media Owner" as MO
actor Admin as ADM
actor "Guest User" as GU

' --- Hourglass actor for temporal use cases ---
hide stereotypes
rectangle "<img:https://cdn-icons-png.flaticon.com/512/3889/3889548.png{scale=0.12}>" as HG <<Temporal>>
skinparam rectangle<<Temporal>> {
  BorderColor white
  BackgroundColor white
}


rectangle "Envision Ad" {
  ' --- Advertiser use cases ---
  usecase "Publish Ad" as PublishAd
  usecase "Browse Media Inventory" as Browse

  ' --- Media Owner use cases ---
  usecase "Manage Media Listing" as ManageListing
  usecase "View Ad Requests/History" as ViewAd
  usecase "Notify Advertiser of Approval Decision" as NotifyApproval
  usecase "Remind Media Owner to Update Media Content" as StartAd
  usecase "Remind Media Owner to Send Proof of Display" as SendProofReminder

  ' --- Admin use cases ---
  usecase "Approve/Deny Media Listing" as ApproveListing
  usecase "Issue Content Warning" as ContentWarning
  usecase "Select Media" as SelectMedia

note top of PublishAd
  Detailed in separate diagram:
  "use-case-publish-ad.puml"
end note

'  ' --- Note ---
'  note right of ConfirmProof
'  <b>Precondition</b>
'  Proof of display must be first
'  provided by the Media Owner
'  end note
'
  ' --- Actor connections (solid lines) ---
'  ADV -- Browse
  ADV -- PublishAd
'  ADV -- ConfirmProof

  ' keep media owner lines inside rectangle
'  MO -[hidden]-> ApproveAd
'  MO -[hidden]-> Proof
'  MO -- ApproveAd
  MO -- Browse
  MO -- ViewAd
  MO -- ManageListing

  ADM -- ApproveListing
  ADM -- ContentWarning

  HG -- SendProofReminder
  HG -- StartAd
  HG -- NotifyApproval

  GU -- Browse
  GU -[hidden]- PublishAd
  ' --- Relationships (dotted, no arrows, all contained) ---
  PublishAd ..> SelectMedia : <<includes>>
  PublishAd ..> Browse     : <<includes>>
'  Request <-- ApproveAd     : <<extends>>
'  ConfirmProof <-- Proof   : <<includes>>
'  ApproveAd <-- Proof      : <<includes>>
'  ManageListing <-- PublishAdOnMedia : <<extends>>
}
@enduml